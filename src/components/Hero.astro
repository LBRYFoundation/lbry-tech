<div class="hero">
    <div class="left">
        <div class="center">
            <h1>LBRY</h1>
            <p>LBRY is a <span class="tag">free</span>, <span class="tag">open</span>, and <span class="tag">community-run</span> digital marketplace.<br/>
            Build the future of content freedom. </p>
        </div>
    </div>
    <div class="right">
        <figure>
            <div class="card">
                <img src="https://picsum.photos/750/420" />
                <div class="glow" />
                <div class="body">
                    <a class="button-primary" href="/playground">Explore our Playground</a>
                </div>
            </div>
        </figure>
    </div>
</div>
<script>
  const card = document.querySelector('.card');
  let bounds;

  function rotateToMouse(e) {
  const mouseX = e.clientX;
  const mouseY = e.clientY;
  const leftX = mouseX - bounds.x;
  const topY = mouseY - bounds.y;
  const center = {
    x: leftX - bounds.width / 2,
    y: topY - bounds.height / 2
  }
  const distance = Math.sqrt(center.x**2 + center.y**2);
  
  card.style.transform = `
    scale3d(1.07, 1.07, 1.07)
    rotate3d(
      ${center.y / 100},
      ${-center.x / 100},
      0,
      ${Math.log(distance)* 2}deg
    )
    translate(0, -50%)
  `;
  
  card.querySelector('.glow').style.backgroundImage = `
    radial-gradient(
      circle at
      ${center.x * 2 + bounds.width/2}px
      ${center.y * 2 + bounds.height/2}px,
      #ffffff55,
      #0000000f
    )
  `;
  }

  card.addEventListener('mouseenter', () => {
    bounds = card.getBoundingClientRect();
        document.addEventListener('mousemove', rotateToMouse);
    });

    card.addEventListener('mouseleave', () => {
        document.removeEventListener('mousemove', rotateToMouse);
        card.style.transform = '';
        card.style.background = '';
    });
</script>
<style>

	.hero {
		display: flex;
		/* align-items: center; */
		min-height: 50vh;
		gap: 50px;
		background-color: var(--secondary-background);
	}

	.center {
		display: flex;
		flex-direction: column;
		align-self: flex-end;
	}

	.left, .right {
		display: flex;
		align-items: flex-start;
        justify-content: center;
		flex-direction: column;
		width: 50%;
        margin: 0 25px;
	}

	.hero h1 {
		font-size: 3.5rem;
	}

	.hero .left p {
		font-size: 1.5rem;
		line-height: 2rem;
	}

	.tag {
		font-weight: bold;
		color: var(--accent);
	}

    .hero .right {
        position: relative;
        justify-content: center;
        align-items: center;
        /* overflow: hidden; */
    }

    .hero .right .body {
        position: absolute;
        top: 50%;
        left: 50%;
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: center;
        transform: translate(-50%, -50%);
    }

    .hero .right .body a {
        font-size: 1.5rem;
        font-weight: bold;
        padding: 10px 20px;
        background: rgba(4, 21, 35, 0.5);;
        border-radius: 16px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        box-shadow: 2px 2px 2px var(--tertiary-background);
        backdrop-filter: blur(7.7px);
        -webkit-backdrop-filter: blur(7.7px);
    }

    .hero .right .body a:hover {
        transform: scale(1.2);
        transform: rotate(2deg);
        color: var(--accent);
    }

    .hero .right figure {
        position: absolute;
        top: 50%;
        left: 0;
        width: 90%;
        max-width: 600px;
        padding-top: 56.25%;
        margin: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        /* max-height: 90%; */
        /* overflow: hidden; */
        transform: translate(0, -50%);
    }

    .hero .right img {
        min-width: 100%;
        height: 100%;
        transform-origin: 0 0;
        box-shadow: 2px 2px 2px;
        /* border-radius: 16px; */
        /* filter: blur(1px); */
    }

    .card {
        position: absolute;
        top: 50%;
        display: flex;
        justify-content: center;
        width: 100%;
        height: 100%;
        max-height: 337.5px;
        box-shadow: 0 1px 5px #00000099;
        transform: rotate3d(0);
        transform: translate(0, -50%);
        border-radius: 16px;
        overflow: hidden;
        transition-duration: 300ms;
        transition-property: transform, box-shadow;
        transition-timing-function: ease-out;
    }

    .hero .right figure:hover .card {
        box-shadow: 0 5px 20px 5px #00000044;
        transition-duration: 150ms;
    }

    .card .glow {
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        
        background-image: radial-gradient(circle at 50% -20%, #ffffff22, #0000000f);
    }

    @media only screen and (max-width: 1000px) {
        .hero {
            gap: 25px;
        }
    }

    @media only screen and (max-width: 750px) {
        .hero {
            align-items: center;
            flex-direction: column;
            gap: 50px;
            padding: 20px 0;
        }

        .hero .left, .hero .right {
            margin: 0;
            width: 80%;
        }

        .hero .right figure {
            position: relative;
            width: 90%;
            display: flex;
            padding-top: 0;
            align-items: center;
            justify-content: center;
            /* max-height: 90%; */
            /* overflow: hidden; */
            transform: translate(0, 0);
        }

        .hero .right figure .card {
            position: relative;
            width: 100%;
            height: unset;
            max-width: 600px;
            box-shadow: 0 1px 5px #00000099;
            transform: rotate3d(0);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: none;
        }

        .hero .right figure .card:hover {
            box-shadow: none;
        }

        .hero .right figure .card .body {
            position: relative;
            transform: translate(0, 0);
            top: 0;
            left: 0;
        }

        .hero .right figure img, .hero .right figure .glow {
            display: none;
        }

        .hero .body {
            width: fit-content;
        }

        .hero .right .body a {
            width: fit-content;
        }

        .hero .right .body a:hover {
            transform: scale(1.2);
            transform: rotate(2deg);
            color: var(--accent);
        }
    }
</style>
